{% extends "base.html" %}

{% block titulo %}Editar Item{% endblock %}

{% block estilos %}
<link rel="stylesheet" href="{{ url_for('static', filename='item.css') }}">
{% endblock %}

{% block conteudo %}
<div class="form-container">
    <h1>Editar Item</h1>

    <form action="" method="POST" enctype="multipart/form-data">
        <div>
            <label>Nome:</label>
            <input type="text" name="nome" value="{{ item.nome }}" required>
        </div>

        <div>
            <label>Descrição:</label>
            <textarea name="descricao">{{ item.descricao }}</textarea>
        </div>

        <div>
            <label>Local:</label>
            <input type="text" name="local" value="{{ item.local }}" required>
        </div>

        <div>
            <label>Data:</label>
            <input type="date" name="data" value="{{ item.data.strftime('%Y-%m-%d') }}" required>
        </div>

        <div>
            <label>Foto atual:</label>
            {% if item.foto %}
                <img src="{{ url_for('static', filename='uploads/' ~ item.foto) }}" width="100"><br>
                <small>{{ item.foto }}</small>
            {% else %}
                <p>Nenhuma foto cadastrada</p>
            {% endif %}
        </div>

        <div>
            <label>Nova Foto (opcional):</label>
            <input type="file" name="foto">
            <small>Deixe em branco para manter a foto atual</small>
        </div>

        <button type="submit">Salvar Alterações</button>
    </form>

    <br>
    <div>
        <a href="{{ url_for('item.listar') }}">Voltar para lista</a> |
        <a href="{{ url_for('item.pendentes') }}">Ver pendentes</a> |
        <a href="{{ url_for('item.encontrados') }}">Ver encontrados</a>
    </div>
</div>
{% endblock %}
